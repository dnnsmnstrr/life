(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports=n(21)},,,,,function(e,t,n){},,function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},function(e,t,n){},,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(6),c=n.n(o),i=(n(14),n(3)),s=n.n(i),u=n(7),l=n(2),f=(n(16),n(17),n(8)),v=n(4),d=(n(20),function(e){var t=e.subject,n=e.events,o=void 0===n?[]:n,c=e.birthday_color,i=void 0===c?"#F89542":c,s=e.project_days,u=void 0===s?200:s,d=Object(f.a)(e,["subject","events","birthday_color","project_days"]),g=Object(a.useState)(!1),m=Object(l.a)(g,2),w=(m[0],m[1]),b=Object(a.useState)({}),p=Object(l.a)(b,2),h=p[0],D=p[1],j=Object(a.useState)(new Date),y=Object(l.a)(j,2),O=y[0],E=y[1];Object(a.useEffect)(function(){v.a.rebuild()},[h]);var _=Object(a.useState)(d.today||new Date),k=Object(l.a)(_,2),x=k[0],F=(k[1],function(e){return e.date_end?new Date(e.date_end):new Date(e.date_start)});function T(e){var t=e.getDate(),n=e.getMonth()+1,a=t<10?"0"+t:""+t;return n<10&&(n="0"+n),e.getFullYear()+"-"+n+"-"+a}function M(e){for(var n=t.birthday,a=function(){var e=new Date(O.getTime());return e.setDate(e.getDate()+u),e}(),r=new Date(n.getTime());r<=a;){var o=new Date(r.getTime());r.setDate(r.getDate()+7),e(o,new Date(r.getTime()))}}return Object(a.useEffect)(function(){var e=new Date;if(o&&o.length>0){var n=o.sort(function(e,t){var n=F(e),a=F(t);return a>n?1:a<n?-1:0})[0],a=F(n);a>e&&(e=a)}E(e),function(){var e={};M(function(n,a){e[T(n)]=function(e,n){var a=t.birthday,r=t.name,c=x>=e&&x<=n,s=null,u=!1,l=o.filter(function(t){var a=new Date(t.date_start),r=new Date(t.date_end);t.ongoing&&(r=new Date);var o=a>=e&&a<n,c=r>=e&&r<n,i=a<=e&&r>=n,l=o||c||i;return l&&(t.color&&(s=t.color),function(e){return(e.single||!e.date_end||e.date_start==e.date_end)&&!e.ongoing}(t)&&(u=!0)),l});if(a){for(var f=0,v=!1;e<n;){if(e.getMonth()==a.getMonth()&&e.getDate()==a.getDate()){v=!0,f=e.getFullYear()-a.getFullYear();break}e.setDate(e.getDate()+1)}if(v){s=i;var d,g=null==r,m=g?"I":r;if(0==f){var w=g?"am":"is";d="".concat(m," ").concat(w," born!")}else{var b=g?"turn":"turns";d="".concat(m," ").concat(b," ").concat(f," on ").concat(a.getMonth()+1,"/").concat(a.getDate())}l.push({title:d,color:s})}}return c&&(s="white",l.push({title:"This week",color:s})),{events:l,color:s,single:u}}(n,a)}),D(e)}(),w(!0)},[o]),r.a.createElement("div",null,r.a.createElement(v.a,{place:"top",effect:"solid"}),r.a.createElement("div",{className:"LifeTimeline"},function(){var e=[];return M(function(t,n){e.push(function(e,t){var n,a,o=T(e),c=h[o],i=[],s=!1;null!=c&&(i=c.events,a=c.color,s=c.single);var u=e>x,l={};i.length>0&&(l.backgroundColor=a||"#1AA9FF");var f=[o].concat(i.map(function(e){return e.title})),v="week";return u&&(v+=" future"),s&&(n=r.a.createElement("span",{className:"singleEvents"})),r.a.createElement("div",{className:v,key:o,style:l,"data-tip":f.join(", ")},n)}(t))}),e}()))});var g=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],o=t[1],c=function(){var e=Object(u.a)(s.a.mark(function e(t){var n,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://next.muensterer.xyz/api/events");case 2:return n=e.sent,e.next=5,n.json();case 5:a=e.sent,console.log("json",a),o(a);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)(function(){c()},[]),r.a.createElement("div",{className:"App"},r.a.createElement("p",null,"My life in weeks"),r.a.createElement(d,{events:n,subject:{birthday:new Date("1997-06-16"),name:"Dennis"}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[9,1,2]]]);
//# sourceMappingURL=main.ac5c01bf.chunk.js.map