(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(6),o=n.n(c),i=(n(14),n(3)),u=n.n(i),s=n(7),l=n(2),f=(n(16),n(8)),v=n(4),d=(n(19),function(e){var t=e.getDate(),n=e.getMonth()+1;return t<10&&(t="0"+t),n<10&&(n="0"+n),e.getFullYear()+"-"+n+"-"+t});var b=function(e){var t=e.subject,n=e.events,c=void 0===n?[]:n,o=e.birthday_color,i=void 0===o?"#F89542":o,u=e.project_days,s=void 0===u?200:u,b=e.today,g=void 0===b?new Date:b,w=(Object(f.a)(e,["subject","events","birthday_color","project_days","today"]),Object(a.useState)(!1)),m=Object(l.a)(w,2),h=m[0],p=m[1],j=Object(a.useState)({}),D=Object(l.a)(j,2),O=D[0],y=D[1],k=Object(a.useState)(new Date),E=Object(l.a)(k,2),_=E[0],x=E[1];Object(a.useEffect)(function(){v.a.rebuild()},[O]);var F=function(e){return e.date_end?new Date(e.date_end):new Date(e.date_start)},T=Object(a.useCallback)(function(){var e=new Date(_.getTime());return e.setDate(e.getDate()+s),e},[_,s]),C=Object(a.useCallback)(function(e){for(var n=t.birthday,a=T(),r=new Date(n.getTime());r<=a;){var c=new Date(r.getTime());r.setDate(r.getDate()+7),e(c,new Date(r.getTime()))}},[T,t]),M=Object(a.useCallback)(function(e,n){var a=t.birthday,r=t.name,o=g>=e&&g<=n,u=null,s=!1,l=c.filter(function(t){var a=new Date(t.date_start),r=new Date(t.date_end);t.ongoing&&(r=new Date);var c=a>=e&&a<n||r>=e&&r<n||a<=e&&r>=n;return c&&(t.color&&(u=t.color),function(e){return(e.single||!e.date_end||e.date_start===e.date_end)&&!e.ongoing}(t)&&(s=!0)),c});if(a){for(var f=0,v=!1;e<n;){if(e.getMonth()===a.getMonth()&&e.getDate()===a.getDate()){v=!0,f=e.getFullYear()-a.getFullYear();break}e.setDate(e.getDate()+1)}if(v){u=i;var d,b=null===r,w=b?"I":r;if(0===f){var m=b?"am":"is";d="".concat(w," ").concat(m," born!")}else{var h=b?"turn":"turns";d="".concat(w," ").concat(h," ").concat(f," on ").concat(a.getMonth()+1,"/").concat(a.getDate())}l.push({title:d,color:u})}}return o&&(u="white",l.push({title:"This week",color:u})),{events:l,color:u,single:s}},[i,c,t,g]),N=Object(a.useCallback)(function(){var e={};C(function(t,n){e[d(t)]=M(t,n)}),y(e)},[C,M,y]);return Object(a.useEffect)(function(){var e=new Date;if(c&&c.length>0){var t=c.sort(function(e,t){var n=F(e),a=F(t);return a>n?1:a<n?-1:0})[0],n=F(t);n>e&&(e=n)}x(e),N(),p(!0)},[c,N]),r.a.createElement("div",null,h&&r.a.createElement(v.a,{place:"top",effect:"solid"}),r.a.createElement("div",{className:"LifeTimeline"},function(){var e=[];return C(function(t,n){e.push(function(e,t){var n,a,c=d(e),o=O[c],i=[],u=!1;null!=o&&(i=o.events,a=o.color,u=o.single);var s=e>g,l={};i.length>0&&(l.backgroundColor=a||"#1AA9FF");var f=[c].concat(i.map(function(e){return e.title})),v="week";return s&&(v+=" future"),u&&(n=r.a.createElement("span",{className:"singleEvents"})),r.a.createElement("div",{className:v,key:c,style:l,"data-tip":f.join(", ")},n)}(t))}),e}()))};var g=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],o=function(){var e=Object(s.a)(u.a.mark(function e(t){var n,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://next.muensterer.xyz/api/events");case 2:return n=e.sent,e.next=5,n.json();case 5:a=e.sent,console.log("json",a),c(a);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)(function(){o()},[]),r.a.createElement("div",{className:"App"},r.a.createElement("p",null,"My life in weeks"),r.a.createElement(b,{events:n,subject:{birthday:new Date("1997-06-16"),name:"Dennis"}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,n){e.exports=n(20)}},[[9,1,2]]]);
//# sourceMappingURL=main.1af3017d.chunk.js.map